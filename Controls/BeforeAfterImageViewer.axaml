<UserControl xmlns="https://github.com/avaloniaui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             x:Class="BeforeAfterImageView.Controls.BeforeAfterImageViewer">

    <!-- Use a Grid to overlay the drag handle on top -->
    <Grid ClipToBounds="False">
        <!-- Layer 1: The zoomable content -->
        <ZoomBorder Name="ZoomBorder"
                    Stretch="None"
                    ZoomSpeed="1.2"
                    Background="Transparent"
                    ClipToBounds="False"
                    Focusable="True">
            <Grid Name="ImageGrid" ClipToBounds="False" >
                <!-- Left image (full) -->
                <Image   Name="LeftImage" Stretch="Uniform" ClipToBounds="False"/>

                <!-- Right image (clipped) -->
                <Image Name="RightImage" Stretch="Uniform" ClipToBounds="False"/>
            </Grid>
        </ZoomBorder>

        <!-- Layer 2: Drag handle overlay (not affected by zoom) -->
        <Border Name="DragHandleOverlay"
                Width="10"
                Background="#80FFFFFF"
                BorderBrush="Black"
                BorderThickness="1"
                HorizontalAlignment="Left"
                Cursor="SizeWestEast"
                IsHitTestVisible="True" />
    </Grid>

</UserControl>